    1  ls
    2  mkdir ecs-fargate-project
    3  cd ecs-fargate-project
    4  nano app.js
    5  npm init -y
    6  nano package.json
    7  nano Dockerfile
    8  ls
    9  sudo apt install docker.io -y
   10  sudo apt install docker -y
   11  sudo apt update
   12  sudo apt install docker.io -y
   13  sudo service docker status
   14  q
   15  sudo su
   16  exit
   17  ls
   18  cd ecs-fargate-project/
   19  ls -l
   20  ls -la
   21  nano package.json 
   22  nano app.js 
   23  sudo docker images
   24  sudo docker rmi 5063a8d1161c
   25  sudo docker rmi node
   26  sudo docker rmi node:18
   27  sudo docker images
   28  sudo docker rmi 5063a8d1161c
   29  sudo docker images
   30  sudo docker rmi 5063a8d1161c -f
   31  sudo docker images
   32  sudo docker build my-node .
   33  sudo docker build -t my-node .
   34  sudo su
   35  sudo apt install awscli
   36  sudo dpkg --configure -a
   37  sudo apt install awscli -y
   38  curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
   39  sudo apt install unzip -y
   40  ls
   41  unzip awscliv2.zip
   42  ls
   43  sudo ./aws/install
   44  aws --version
   45  aws ecr get-login-password --region ap-south-1 | docker login --username AWS --password-stdin 522704033484.dkr.ecr.ap-south-1.amazonaws.com
   46  aws login
   47  aws configure
   48  aws login
   49  aws login 
   50  aws sts get-caller-identity
   51  ~/.aws/credentials
   52  ~/.aws/config
   53  sudo ~/.aws/credentials
   54  cd /home/ubuntu/.aws/
   55  ls
   56  cat credentials 
   57  sudo rm credentials 
   58  cay config 
   59  cat config 
   60  exit
   61  aws sts get-caller-identity
   62  aws ecr get-login-password --region ap-south-1 | docker login --username AWS --password-stdin 522704033484.dkr.ecr.ap-south-1.amazonaws.com
   63  docker build -t ecs-demo-repo .
   64  ls
   65  cd ecs-fargate-project/
   66  sudo docker build -t ecs-demo-repo .
   67  sudo docker images
   68  docker tag ecs-demo-repo:latest 522704033484.dkr.ecr.ap-south-1.amazonaws.com/ecs-demo-repo:latest
   69  sudo docker tag ecs-demo-repo:latest 522704033484.dkr.ecr.ap-south-1.amazonaws.com/ecs-demo-repo:latest
   70  sudo docker images
   71  sudo docker push 522704033484.dkr.ecr.ap-south-1.amazonaws.com/ecs-demo-repo:latest
   72  aws sts get-caller-identity
   73  groups
   74  newgrp docker
   75  sudo newgrp docker
   76  history
   77  ls
   78  rm aws awscliv2.zip 
   79  rm awscliv2.zip 
   80  ls
   81  rm -f aws/
   82  rmdir ws/
   83  rmdir aws/
   84  rm aws/ -f
   85  ls
   86  rm -r aws/
   87  ls
   88  cd
   89  exi
   90  history
   91  ls
   92  exit
   93  history > ecr-app-log.txt





---------------------------------------------------sudo su history logs-----------------------------------------------------------------------




root@ip-172-31-15-133:/home/ubuntu# history
    1  docker ps
    2  docker ps -a
    3  docker images
    4  docker network
    5  docker build -t esc-demo-app .
    6  npm init -y
    7  sudo apt install nodejs -y
    8  npm -v
    9  npm install package.json
   10  sudo apt install npm -y
   11  ls
   12  exit
   13  docker images
   14  docker run -d -name my-app -p 3000:80 my-node
   15  docker run -d -n my-app -p 3000:80 my-node
   16  docker run -d -p 3000:80 -n my-app my-node
   17  docker run -d -p 3000:80 my-node -n my-app
   18  docker images
   19  docker ps
   20  docker ps -a
   21  docker run -d -p 3000:3000 my-node-app
   22  docker run -d -p 3000:3000 my-node
   23  docker ps
   24  docker p -a
   25  docker ps -a
   26  docker log d4937781c6b1
   27  docker log objective_elbakyan
   28  docker logs objective_elbakyan
   29  ls
   30  cat Dockerfile
   31  nano package.json
   32  docker images
   33  docker prune
   34  docker prune system
   35  docker system prune
   36  docker images
   37  docker rmi $(docker images)
   38  docker images
   39  docker ps
   40  docker ps -a
   41  docker build -t my-node-app .
   42  docker ps
   43  docker images
   44  docker run -d -p 3000:80 my-node-app -n my-app
   45  docker ps
   46  docker ps -a
   47  docker run -d -p 3000:80 my-node-app
   48  docker ps
   49  docker run -d -p 3000:80 --name my-app my-node-app
   50  docker rm sweet_hermann
   51  docker rm $(docker stop $(docker ps))
   52  docker ps
   53  docker run -d -p 3000:80 --name my-app my-node-app
   54  docker ps
   55  docker rm $(docker stop $(docker ps))
   56  docker run -d -p 80:3000 --name my-app my-node-app
   57  aws ecr get-login-password --region ap-south-1 | docker login --username AWS --password-stdin 522704033484.dkr.ecr.ap-south-1.amazonaws.com
   58  apt install awscli -y
   59  apt install aws -y
   60  exit
   61  groups
   62  rm -rf ~/.docker
   63  mkdir ~/.docker
   64  aws ecr get-login-password --region ap-south-1 | docker login --username AWS --password-stdin 522704033484.dkr.ecr.ap-south-1.amazonaws.com
   65  docker tag my-node-app:latest 522704033484.dkr.ecr.ap-south-1.amazonaws.com/ecs-demo-repo:latest
   66  docker images
   67  docker push 522704033484.dkr.ecr.ap-south-1.amazonaws.com/ecs-demo-repo:latest
   68  history
   69  exit
   70  history
